<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Invoice Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
      background: #f7f7f7;
    }
    h1 {
      text-align: center;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      background: #fff;
    }
    th, td {
      padding: 10px;
      border: 1px solid #ccc;
      text-align: center;
    }
    input[type="text"], input[type="number"] {
      width: 100%;
      padding: 6px;
    }
    .actions button {
      margin: 0 3px;
      padding: 5px 10px;
      cursor: pointer;
    }
    .add-form {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    .add-form input {
      flex: 1;
    }
    .total-box {
      text-align: right;
      margin-top: 20px;
      font-size: 20px;
      font-weight: bold;
    }
    .btn {
      background-color: #2196F3;
      color: white;
      border: none;
    }
    .btn:hover {
      background-color: #0b7dda;
    }
    .btn-danger {
      background-color: red;
      color: white;
      border: none;
    }
    .btn-danger:hover {
      background-color: darkred;
    }
    .btn-secondary {
      background-color: #999;
      color: white;
      border: none;
    }
    .btn-secondary:hover {
      background-color: #777;
    }
  </style>
</head>
<body>

<h1>Invoice Generator</h1>

<div class="add-form">
  <input type="text" id="itemName" placeholder="Item Name">
  <input type="number" id="itemPrice" placeholder="Price" min="0">
  <input type="number" id="itemQty" placeholder="Qty" min="1">
  <button class="btn" onclick="addItem()">Add Item</button>
</div>

<table>
  <thead>
    <tr>
      <th>Item</th>
      <th>Price</th>
      <th>Qty</th>
      <th>Total</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody id="invoiceTableBody"></tbody>
</table>

<div class="total-box">
  Grand Total: ₹<span id="grandTotal">0.00</span>
</div>

<script>
  let invoiceItems = [];

  function renderTable() {
    const tbody = document.getElementById("invoiceTableBody");
    tbody.innerHTML = "";

    let total = 0;

    invoiceItems.forEach((item, index) => {
      const row = document.createElement("tr");

      const itemTotal = item.price * item.qty;
      total += itemTotal;

      row.innerHTML = `
        <td>${item.name}</td>
        <td>₹${item.price}</td>
        <td>
          <button onclick="changeQty(${index}, -1)" class="btn-secondary">-</button>
          ${item.qty}
          <button onclick="changeQty(${index}, 1)" class="btn-secondary">+</button>
        </td>
        <td>₹${itemTotal.toFixed(2)}</td>
        <td class="actions">
          <button onclick="editItem(${index})" class="btn">Edit</button>
          <button onclick="deleteItem(${index})" class="btn-danger">Delete</button>
        </td>
      `;
      tbody.appendChild(row);
    });

    document.getElementById("grandTotal").textContent = total.toFixed(2);
  }

  function addItem() {
    const name = document.getElementById("itemName").value.trim();
    const price = parseFloat(document.getElementById("itemPrice").value);
    const qty = parseInt(document.getElementById("itemQty").value);

    if (!name || isNaN(price) || isNaN(qty) || qty <= 0 || price < 0) {
      alert("Please enter valid item details.");
      return;
    }

    invoiceItems.push({ name, price, qty });
    document.getElementById("itemName").value = "";
    document.getElementById("itemPrice").value = "";
    document.getElementById("itemQty").value = "";

    renderTable();
  }

  function deleteItem(index) {
    if (confirm("Are you sure you want to delete this item?")) {
      invoiceItems.splice(index, 1);
      renderTable();
    }
  }

  function editItem(index) {
    const item = invoiceItems[index];
    const newName = prompt("Enter new name:", item.name);
    const newPrice = parseFloat(prompt("Enter new price:", item.price));
    const newQty = parseInt(prompt("Enter new quantity:", item.qty));

    if (newName && !isNaN(newPrice) && !isNaN(newQty) && newQty > 0 && newPrice >= 0) {
      invoiceItems[index] = {
        name: newName.trim(),
        price: newPrice,
        qty: newQty,
      };
      renderTable();
    } else {
      alert("Invalid inputs.");
    }
  }

  function changeQty(index, change) {
    const newQty = invoiceItems[index].qty + change;
    if (newQty < 1) return;
    invoiceItems[index].qty = newQty;
    renderTable();
  }
</script>

</body>
</html>
